<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codybin - Технологии Будущего</title>
    <!-- Загрузка Tailwind CSS для стилей -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Установка шрифта Inter и базового стиля */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s; /* Плавный переход для темы */
        }
    </style>
    <script>
        // Конфигурация Tailwind. Включаем dark mode на основе класса 'dark' на <body>
        tailwind.config = {
            darkMode: 'class', // <--- Активация dark mode через класс
            theme: {
                extend: {
                    colors: {
                        // Основные цвета для темного и светлого режима
                        'codybin-blue': '#1e40af',
                        'codybin-dark': '#101828', // Темный фон
                        'codybin-light': '#f9fafb', // Светлый фон
                    },
                }
            }
        }

        /**
         * Общая функция навигации, использующая предоставленную логику.
         * @param {string} url - Целевой URL для навигации.
         */
        function navigateToProject(url) {
            // Проверка на навигационную функцию окружения VS
            if (typeof VSNavigate !== 'undefined') {
                VSNavigate(url);
            } 
            // Проверка на функцию навигации родительского окна
            else if (window.parent && typeof window.parent.navigateTo === 'function') {
                window.parent.navigateTo(url);
            } 
            // Откат к стандартному открытию нового окна
            else {
                window.open(url, '_blank');
            }
        }

        /**
         * Навигация на сайт ORION.
         */
        function navigateToOrion() {
            navigateToProject('orion.codybin.vs');
        }

        /**
         * Навигация на сайт CBAP (Codybin App Store).
         */
        function navigateToCBAP() {
            navigateToProject('cbap.codybin.vs');
        }
        
        /**
         * Обновляет иконки переключателя темы.
         * @param {boolean} isDark - true, если активна темная тема.
         */
        function updateThemeIcons(isDark) {
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');
            if (sunIcon && moonIcon) {
                if (isDark) {
                    moonIcon.classList.add('hidden');
                    sunIcon.classList.remove('hidden');
                } else {
                    moonIcon.classList.remove('hidden');
                    sunIcon.classList.add('hidden');
                }
            }
        }

        /**
         * Переключает светлую/темную тему.
         */
        function toggleTheme() {
            const body = document.body;
            const isDark = body.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateThemeIcons(isDark);
        }

        // Инициализация темы при загрузке страницы
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }

            const savedTheme = localStorage.getItem('theme');
            // Определяем, предпочитает ли система пользователя темную тему по умолчанию
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            let isDark = false;
            
            // Если сохранена "темная" или нет сохранения, но система предпочитает темную
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.body.classList.add('dark');
                isDark = true;
            } else {
                document.body.classList.remove('dark');
            }
            
            updateThemeIcons(isDark);
        });
    </script>
</head>
<!-- Определяем базовые стили для светлой темы и переопределяем их для темной темы с префиксом dark: -->
<body class="bg-codybin-light dark:bg-codybin-dark min-h-screen text-codybin-dark dark:text-codybin-light antialiased">

    <!-- Заголовок и Логотип -->
    <header class="bg-gray-100 dark:bg-gray-900 shadow-xl">
        <!-- Навигационная панель: Логотип (слева) и Переключатель Темы (справа) -->
        <div class="max-w-7xl mx-auto flex justify-between items-center p-4 sm:px-6 lg:px-8 border-b border-gray-200 dark:border-gray-800">
            <!-- Логотип (Маленький, Слева) -->
            <div class="flex items-center">
                <!-- Путь к изображению: images/logo.png (используется заглушка) -->
                <img 
                    src="images/logo.png" 
                    alt="Логотип Codybin" 
                    class="h-12 w-auto rounded-lg shadow-md"
                    onerror="this.onerror=null; this.src='images/logo.png';"
                >
            </div>
            
            <!-- Переключатель Темы (Справа) -->
            <button 
                id="themeToggle" 
                class="p-2 rounded-full transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 
                       text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white 
                       bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700"
                aria-label="Переключить тему"
            >
                <!-- Иконка Солнца (для темной темы) -->
                <svg id="sunIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                <!-- Иконка Луны (для светлой темы) -->
                <svg id="moonIcon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
        </div>

        <!-- Основной заголовок компании -->
        <div class="py-8 px-4 sm:px-6 lg:px-8 max-w-6xl mx-auto flex flex-col items-center">
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-800 dark:from-blue-400 dark:to-indigo-600 tracking-tight">
                Codybin
            </h1>
            <p class="mt-4 text-xl text-gray-600 dark:text-gray-400 max-w-2xl text-center">
                Инновационные решения для цифрового мира.
            </p>
        </div>
    </header>

    <!-- Секция Проектов -->
    <main class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-3xl sm:text-4xl font-bold mb-12 text-center text-gray-800 dark:text-gray-100">Наши Проекты</h2>
            
            <div class="grid md:grid-cols-2 gap-8 lg:gap-12">
                
                <!-- Карточка Проекта ORION -->
                <div 
                    class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-200 dark:border-transparent hover:border-blue-500 transition duration-300 cursor-pointer flex flex-col"
                    onclick="navigateToOrion()"
                >
                    <div class="flex items-center mb-4">
                        <svg class="w-8 h-8 text-blue-600 dark:text-blue-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9h-3M8 9l3 3-3 3"></path></svg>
                        <h3 class="text-2xl font-semibold text-blue-600 dark:text-blue-300">ORION Browser</h3>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 mb-6 flex-grow">
                        Сверхбыстрый и безопасный браузер нового поколения, разработанный с акцентом на приватность и производительность. Наша платформа для исследования Интернета.
                    </p>
                    <!-- Кнопка без отображения ссылки -->
                    <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-xl transition duration-200 shadow-md">
                        Перейти на ORION
                    </button>
                </div>

                <!-- Карточка Проекта CBAP -->
                <div 
                    class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-200 dark:border-transparent hover:border-indigo-500 transition duration-300 cursor-pointer flex flex-col"
                    onclick="navigateToCBAP()"
                >
                    <div class="flex items-center mb-4">
                        <svg class="w-8 h-8 text-indigo-600 dark:text-indigo-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg>
                        <h3 class="text-2xl font-semibold text-indigo-600 dark:text-indigo-300">CBAP - App Store</h3>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 mb-6 flex-grow">
                        Codybin App Store — это магазин приложений для всех наших платформ. Надежность, безопасность и обширный каталог инновационного ПО.
                    </p>
                    <!-- Кнопка без отображения ссылки -->
                    <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 rounded-xl transition duration-200 shadow-md">
                        Перейти на CBAP
                    </button>
                </div>
            </div>
            
        </div>
    </main>

    <!-- Футер -->
    <footer class="mt-16 py-8 bg-gray-100 dark:bg-gray-900 border-t border-gray-300 dark:border-gray-700">
        <p class="text-center text-gray-500 dark:text-gray-500 text-sm">
            &copy; 2025 Codybin. Все права защищены.
        </p>
    </footer>

</body>
</html>
